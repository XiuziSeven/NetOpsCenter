(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9b9056f4"],{"242d":function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("el-button",{staticClass:"add-btn",attrs:{type:"primary",icon:"el-icon-plus",size:"small"},on:{click:function(t){e.showAddDevicesGroup=!0}}},[e._v("添加")]),r("br"),r("el-table",{staticStyle:{width:"70%"},attrs:{data:e.devicesgrouplist,stripe:"",border:""}},[r("el-table-column",{attrs:{align:"center",fixed:"",prop:"id",label:"后台ID",width:"95"}}),r("el-table-column",{attrs:{fixed:"",prop:"name",label:"名称"}}),r("el-table-column",{attrs:{fixed:"",prop:"devices.length",label:"设备数"}}),r("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"primary",icon:"el-icon-edit",circle:"",size:"small"},on:{click:function(r){return e.defdevicesgroupForm(t.row)}}}),r("el-popover",{ref:"popover-"+t.$index,attrs:{trigger:"click",placement:"top"}},[r("p",[e._v("确认删除？")]),r("div",{staticStyle:{"text-align":"right","margin-top":"0"}},[r("el-button",{attrs:{size:"small",plain:""},on:{click:function(r){return e.cancelClick(t)}}},[e._v("取消")]),r("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(r){return e.deleteDevicesGroup(t)}}},[e._v("确定")])],1),r("el-button",{attrs:{slot:"reference",type:"danger",icon:"el-icon-delete",circle:"",size:"small"},slot:"reference"})],1)]}}])})],1),r("el-dialog",{attrs:{title:"设备组编辑",visible:e.showEditDevicesGroup,width:"70%"},on:{"update:visible":function(t){e.showEditDevicesGroup=t}}},[r("el-form",{attrs:{model:e.DevicesGroupFrom,"status-icon":""}},[r("el-form-item",{attrs:{label:"组名称",prop:"name"}},[r("span",{staticStyle:{color:"red","font-size":"larger"}},[e._v("*")]),r("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.DevicesGroupFrom.name,callback:function(t){e.$set(e.DevicesGroupFrom,"name",t)},expression:"DevicesGroupFrom.name"}})],1),r("el-form-item",{attrs:{label:"组成员",prop:"devices"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",filterable:"",size:"medium"},model:{value:e.DevicesGroupFrom.devices,callback:function(t){e.$set(e.DevicesGroupFrom,"devices",t)},expression:"DevicesGroupFrom.devices"}},e._l(e.alldeviceslist,(function(e){return r("el-option",{key:e.id,attrs:{label:e.name+"("+e.ip+")",value:e.id}})})),1)],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.showEditDevicesGroup=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary",disabled:e.nameError},on:{click:function(t){e.updateDevicesGroup(),e.showEditDevicesGroup=!1}}},[e._v("确 定")])],1)],1),r("el-dialog",{attrs:{title:"设备组添加",visible:e.showAddDevicesGroup,width:"70%"},on:{"update:visible":function(t){e.showAddDevicesGroup=t}}},[r("el-form",{attrs:{model:e.addDevicesGroupFrom,"status-icon":""}},[r("el-form-item",{attrs:{label:"组名称",prop:"name"}},[r("span",{staticStyle:{color:"red","font-size":"larger"}},[e._v("*")]),r("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.addDevicesGroupFrom.name,callback:function(t){e.$set(e.addDevicesGroupFrom,"name",t)},expression:"addDevicesGroupFrom.name"}})],1),r("el-form-item",{attrs:{label:"组成员",prop:"devices"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",filterable:"",size:"medium"},model:{value:e.addDevicesGroupFrom.devices,callback:function(t){e.$set(e.addDevicesGroupFrom,"devices",t)},expression:"addDevicesGroupFrom.devices"}},e._l(e.alldeviceslist,(function(e){return r("el-option",{key:e.id,attrs:{label:e.name+"("+e.ip+")",value:e.id}})})),1)],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.showAddDevicesGroup=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary",disabled:e.nameError},on:{click:function(t){e.addDevicesGroup(),e.showAddDevicesGroup=!1}}},[e._v("确 定")])],1)],1)],1)},i=[],n=r("ad8f"),c={data:function(){return{devicesgrouplist:"",showEditDevicesGroup:!1,showAddDevicesGroup:!1,DevicesGroupFrom:{name:"",devices:""},addDevicesGroupFrom:{name:"",devices:""},alldeviceslist:[],selectedDevices:[],params:{page:1,page_size:999,search:""}}},created:function(){this.getDevicesGroupList(),this.getDevicesList()},methods:{cancelClick:function(e){this.$message("取消"),e._self.$refs["popover-".concat(e.$index)].doClose()},getDevicesList:function(){var e=this;Object(n["s"])(this.params).then((function(t){e.alldeviceslist=t.data.results}))},getDevicesGroupList:function(){var e=this;Object(n["r"])(this.params).then((function(t){console.log("devlist",t),e.devicesgrouplist=t.data}))},defdevicesgroupForm:function(e){console.log("index ========> ",e),this.showEditDevicesGroup=!0,this.DevicesGroupFrom=Object.assign({},e)},deleteDevicesGroup:function(e){var t=this;Object(n["l"])(e.row.id).then((function(e){t.getDevicesGroupList(),t.$message({message:"删除成功",type:"success"})})),e._self.$refs["popover4-".concat(e.$index)].doClose()},updateDevicesGroup:function(){var e=this,t=this.DevicesGroupFrom.id;Object(n["w"])(t,this.DevicesGroupFrom).then((function(t){e.getDevicesGroupList(),e.$message({message:"修改成功",type:"success"})}))},addDevicesGroup:function(){var e=this;Object(n["f"])(this.addDevicesGroupFrom).then((function(t){e.getDevicesGroupList(),e.$message({message:"添加成功",type:"success"})}))}}},s=c,u=r("2877"),a=Object(u["a"])(s,o,i,!1,null,null,null);t["default"]=a.exports},ad8f:function(e,t,r){"use strict";r.d(t,"s",(function(){return i})),r.d(t,"m",(function(){return n})),r.d(t,"t",(function(){return c})),r.d(t,"c",(function(){return s})),r.d(t,"n",(function(){return u})),r.d(t,"a",(function(){return a})),r.d(t,"o",(function(){return l})),r.d(t,"b",(function(){return d})),r.d(t,"p",(function(){return p})),r.d(t,"d",(function(){return f})),r.d(t,"q",(function(){return v})),r.d(t,"e",(function(){return m})),r.d(t,"j",(function(){return b})),r.d(t,"h",(function(){return h})),r.d(t,"i",(function(){return g})),r.d(t,"k",(function(){return D})),r.d(t,"v",(function(){return G})),r.d(t,"u",(function(){return j})),r.d(t,"g",(function(){return O})),r.d(t,"r",(function(){return w})),r.d(t,"f",(function(){return y})),r.d(t,"l",(function(){return k})),r.d(t,"w",(function(){return F}));var o=r("b775");function i(e){return Object(o["a"])({url:"/devices/",method:"get",params:e})}function n(e){return Object(o["a"])({url:"/devices/"+e+"/",method:"delete"})}function c(e,t){return Object(o["a"])({url:"/devices/"+e+"/",method:"patch",data:t})}function s(e){return Object(o["a"])({url:"/devices/",method:"post",data:e})}function u(){return Object(o["a"])({url:"/area/",method:"get"})}function a(e){return Object(o["a"])({url:"/area/",method:"post",data:e})}function l(){return Object(o["a"])({url:"/devicebrand/",method:"get"})}function d(e){return Object(o["a"])({url:"/devicebrand/",method:"post",data:e})}function p(){return Object(o["a"])({url:"/devicetype/",method:"get"})}function f(e){return Object(o["a"])({url:"/devicetype/",method:"post",data:e})}function v(){return Object(o["a"])({url:"/deviceuser/",method:"get"})}function m(e){return Object(o["a"])({url:"/deviceuser/",method:"post",data:e})}function b(e){return Object(o["a"])({url:"/devicetype/"+e+"/",method:"delete"})}function h(e){return Object(o["a"])({url:"/area/"+e+"/",method:"delete"})}function g(e){return Object(o["a"])({url:"/devicebrand/"+e+"/",method:"delete"})}function D(e){return Object(o["a"])({url:"/deviceuser/"+e+"/",method:"delete"})}function G(e,t){return Object(o["a"])({url:"/deviceuser/"+e+"/",method:"patch",data:t})}function j(e,t){return Object(o["a"])({url:"/devicebrand/"+e+"/",method:"patch",data:t})}function O(e){return Object(o["a"])({url:"/autoconfig/",method:"post",data:e})}function w(){return Object(o["a"])({url:"/devicesgroup/",method:"get"})}function y(e){return Object(o["a"])({url:"/devicesgroup/",method:"post",data:e})}function k(e){return Object(o["a"])({url:"/devicesgroup/"+e+"/",method:"delete"})}function F(e,t){return Object(o["a"])({url:"/devicesgroup/"+e+"/",method:"patch",data:t})}}}]);